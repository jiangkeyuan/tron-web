{"version":3,"file":"index.155768f4.js","sources":["../../src/page/seller/order/index.vue"],"sourcesContent":["<template>\n  <DashbordContent>\n    <el-form\n      :inline=\"true\"\n      ref=\"ruleFormRef\"\n      :model=\"form\"\n      class=\"demo-form-inline\"\n    >\n      <el-form-item label=\"订单号\" prop=\"orderNo\">\n        <el-input v-model=\"form.orderNo\" placeholder=\"请输入订单号\" />\n      </el-form-item>\n      <el-form-item label=\"接收\" prop=\"toAddress\">\n        <el-input v-model=\"form.toAddress\" placeholder=\"请输入地址\" />\n      </el-form-item>\n      <el-form-item label=\"时间\" prop=\"date\">\n        <el-date-picker\n          v-model=\"form.date\"\n          type=\"daterange\"\n          start-placeholder=\"开始时间\"\n          end-placeholder=\"结束时间\"\n        />\n      </el-form-item>\n      <el-form-item>\n        <el-button @click=\"resetForm\">重置</el-button>\n        <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\n      </el-form-item>\n    </el-form>\n  </DashbordContent>\n  <DashbordContent>\n    <el-radio-group v-model=\"form.orderStatus\" @change=\"changeStatus\">\n      <el-radio-button label=\"\">全部</el-radio-button>\n      <el-radio-button label=\"DELEGATEING\">代理中</el-radio-button>\n      <el-radio-button label=\"ALMOST_DONE\">即将结束</el-radio-button>\n      <el-radio-button label=\"DONE\">已完成</el-radio-button>\n    </el-radio-group>\n    <el-table :data=\"userSells\" stripe style=\"width: 100%\">\n      <el-table-column prop=\"orderNo\" label=\"订单号\"> </el-table-column>\n      <el-table-column prop=\"delegateDate\" label=\"质押时间\"  :formatter=\"(row) => filterDate(row.delegateDate)\" />\n      <el-table-column prop=\"fromAddress\" label=\"钱包\">\n        <template #default=\"scope\">\n          <div class=\"text-overflow\">\n            <span>收款：</span>\n            <el-link\n              href=\"https://element-plus.org\"\n              target=\"_blank\"\n              type=\"primary\"\n              >{{ scope.row.fromAddress }}</el-link\n            >\n          </div>\n          <div class=\"text-overflow\">\n            <span>接收：</span>\n            <el-link\n              href=\"https://element-plus.org\"\n              target=\"_blank\"\n              type=\"primary\"\n              >{{ scope.row.toAddress }}</el-link\n            >\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"benifitAmount\" label=\"结算金额\" />\n      <el-table-column prop=\"sellPrice\" label=\"单价\" />\n      <el-table-column prop=\"address\" label=\"质押\">\n        <template #default=\"scope\">\n          <div>金额：{{ scope.row.stakeAmount }}</div>\n          <div>能量：{{ scope.row.lendEnergy }}</div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"expiredDate\" label=\"到期时间\" :formatter=\"(row) => filterDate(row.expiredDate)\" >\n        <template #header>\n          <div>\n            到期时间\n            <el-tooltip\n              class=\"box-item\"\n              effect=\"dark\"\n              content=\"香港时间\"\n              placement=\"right\"\n            >\n              <el-icon><WarningFilled /></el-icon>\n            </el-tooltip>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"orderStatus\" label=\"订单状态\" :formatter=\"(row) => filterStatus(row.orderStatus)\"/>\n      <el-table-column prop=\"address\" label=\"操作\">\n        <template #default=\"scope\">\n          <el-link\n            type=\"primary\"\n            :href=\"`https://tronscan.org/#/transaction/${scope.row.transactionHash}`\"\n            target=\"_blank\"\n            >质押详情</el-link\n          >\n          <div></div>\n          <el-link\n            type=\"primary\"\n            :href=\"`https://tronscan.org/#/transaction/${scope.row.transactionHash}`\"\n            target=\"_blank\"\n            >解压详情</el-link\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"sale-record-table-pagination\">\n      <!-- <el-pagination v-model:current-page='form.pageIndex' :page-size=\"form.pageSize\" layout=\"prev, pager, next\"\n        :total=\"form.totalCount\" /> -->\n    </div>\n  </DashbordContent>\n</template>\n\n<script setup>\nimport { filterDate } from '@/utils/utils/date.js';\nimport { getUserSells } from '@/utils/axios/seller/index.js'\nconst form = reactive({\n  orderNo: '',\n  toAddress: '',\n  startTime: '',\n  endTime: '',\n  orderStatus: '',\n  date: [],\n  pageIndex: 1,\n  pageSize: 20,\n  totalCount: 0\n})\nconst radio2 = ref(0)\n\nconst handleClick = (tab, event) => {\n  console.log(tab, event)\n}\nconst value1 = ref('')\nconst userSells = ref([])\nconst onSubmit = () => {\n  console.log('submit!')\n  queryUserSells()\n}\nconst queryUserSells = async () => {\n  if (form.date && form.date.length > 0) {\n    form.startTime = form.date[0]\n    form.endTime = form.date[1]\n  } else {\n    form.date = []\n  }\n  const data = await getUserSells(form)\n  console.log(data)\n  if (data.code === 12000) {\n    // ElMessage.success(data.msg);\n    // userSells.value = data.data\n    userSells.value = [\n  {\n    id: 8,\n    userId: 19,\n    buyerRentalId: 1,\n    orderNo: 20230329230410169,\n    delegateDate: '2023-03-29 23:03:34.0',\n    fromAddress: 'TTbQQMGYapeXV9qiHjoHV6uVWL48HDHYfm',\n    lendEnergy: 10000,\n    delegateAmount: '5.00',\n    benifitAmount: '27.00',\n    stakeAmount: null,\n    expiredDate: '2023-04-01 23:03:34.0',\n    toAddress: 'THdgueo2XA3LyTbfrVPPQ4XzHuyNz8K73P',\n    sellPrice: 120,\n    orderStatus: 'DELEGATEING',\n    transactionHash:\n      '31a8b54109c3cc4f0d44610b3fc577c4cf9a5d378e6a2163e44307e0684f3a4c',\n    createDate: '2023-03-30 21:41:55.0',\n    lastUpdateDate: null,\n    deleteDate: null\n  }\n]\n  } else {\n    ElMessage.error(data.msg)\n  }\n}\nconst filterStatus = (status) => {\n  switch (status) {\n    case \"DELEGATEING\":\n      return \"代理中\"\n    case \"ALMOST_DONE\":\n      return \"即将结束\"\n    case \"DONE\":\n      return \"已经完成\"\n    default:\n      return '';\n  }\n}\nconst changeStatus = () => {\n    queryUserSells()\n}\nconst resetForm = () => {\n  Object.keys(form).map(v => {\n    form[v] = ''\n  })\n  form.date = []\n}\nonMounted(async () => {\n  queryUserSells();\n});\n</script>\n\n<style>\n.text-overflow {\n  display: block;\n  width: 31em;\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n"],"names":["form","reactive","ref","userSells","onSubmit","queryUserSells","data","getUserSells","ElMessage","filterStatus","status","changeStatus","resetForm","v","onMounted"],"mappings":"iuCAgHA,MAAAA,EAAAC,EAAA,CACA,QAAA,GACA,UAAA,GACA,UAAA,GACA,QAAA,GACA,YAAA,GACA,KAAA,CAAA,EACA,UAAA,EACA,SAAA,GACA,WAAA,CACA,CAAA,EACAC,EAAA,CAAA,EAKAA,EAAA,EAAA,EACA,MAAAC,EAAAD,EAAA,EAAA,EACAE,EAAA,IAAA,CACA,QAAA,IAAA,SAAA,EACAC,EAAA,CACA,EACAA,EAAA,SAAA,CACAL,EAAA,MAAAA,EAAA,KAAA,OAAA,GACAA,EAAA,UAAAA,EAAA,KAAA,GACAA,EAAA,QAAAA,EAAA,KAAA,IAEAA,EAAA,KAAA,CAAA,EAEA,MAAAM,EAAA,MAAAC,EAAAP,CAAA,EACA,QAAA,IAAAM,CAAA,EACAA,EAAA,OAAA,KAGAH,EAAA,MAAA,CACA,CACA,GAAA,EACA,OAAA,GACA,cAAA,EACA,QAAA,iBACA,aAAA,wBACA,YAAA,qCACA,WAAA,IACA,eAAA,OACA,cAAA,QACA,YAAA,KACA,YAAA,wBACA,UAAA,qCACA,UAAA,IACA,YAAA,cACA,gBACA,mEACA,WAAA,wBACA,eAAA,KACA,WAAA,IACA,CACA,EAEAK,EAAA,MAAAF,EAAA,GAAA,CAEA,EACAG,EAAAC,GAAA,CACA,OAAAA,EAAA,CACA,IAAA,cACA,MAAA,qBACA,IAAA,cACA,MAAA,2BACA,IAAA,OACA,MAAA,2BACA,QACA,MAAA,EACA,CACA,EACAC,EAAA,IAAA,CACAN,EAAA,CACA,EACAO,EAAA,IAAA,CACA,OAAA,KAAAZ,CAAA,EAAA,IAAAa,GAAA,CACAb,EAAAa,GAAA,EACA,CAAA,EACAb,EAAA,KAAA,CAAA,CACA,EACA,OAAAc,EAAA,SAAA,CACAT,GACA,CAAA"}