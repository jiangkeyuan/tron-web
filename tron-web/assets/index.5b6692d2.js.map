{"version":3,"file":"index.5b6692d2.js","sources":["../../node_modules/element-plus/es/components/divider/src/divider.mjs","../../node_modules/element-plus/es/components/divider/src/divider2.mjs","../../node_modules/element-plus/es/components/divider/index.mjs","../../src/assets/login/login-content.png","../../src/assets/login/login-password.svg","../../src/page/login/components/login-form.vue","../../src/page/login/index.vue"],"sourcesContent":["import '../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\n\nconst dividerProps = buildProps({\n  direction: {\n    type: String,\n    values: [\"horizontal\", \"vertical\"],\n    default: \"horizontal\"\n  },\n  contentPosition: {\n    type: String,\n    values: [\"left\", \"center\", \"right\"],\n    default: \"center\"\n  },\n  borderStyle: {\n    type: definePropType(String),\n    default: \"solid\"\n  }\n});\n\nexport { dividerProps };\n//# sourceMappingURL=divider.mjs.map\n","import { defineComponent, computed, openBlock, createElementBlock, normalizeClass, unref, normalizeStyle, renderSlot, createCommentVNode } from 'vue';\nimport '../../../hooks/index.mjs';\nimport { dividerProps } from './divider.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElDivider\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: dividerProps,\n  setup(__props) {\n    const props = __props;\n    const ns = useNamespace(\"divider\");\n    const dividerStyle = computed(() => {\n      return ns.cssVar({\n        \"border-style\": props.borderStyle\n      });\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([unref(ns).b(), unref(ns).m(_ctx.direction)]),\n        style: normalizeStyle(unref(dividerStyle)),\n        role: \"separator\"\n      }, [\n        _ctx.$slots.default && _ctx.direction !== \"vertical\" ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: normalizeClass([unref(ns).e(\"text\"), unref(ns).is(_ctx.contentPosition)])\n        }, [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 2)) : createCommentVNode(\"v-if\", true)\n      ], 6);\n    };\n  }\n});\nvar Divider = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue\"]]);\n\nexport { Divider as default };\n//# sourceMappingURL=divider2.mjs.map\n","import '../../utils/index.mjs';\nimport Divider from './src/divider2.mjs';\nexport { dividerProps } from './src/divider.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElDivider = withInstall(Divider);\n\nexport { ElDivider, ElDivider as default };\n//# sourceMappingURL=index.mjs.map\n","export default \"__VITE_ASSET__9a1bb9d5__\"","export default \"__VITE_ASSET__c4963329__\"","<template>\n  <div class=\"login-content-right\">\n    <el-form :model=\"value\" :rules=\"rules\" ref=\"ruleFormRef\">\n      <h2 class=\"login-content-right-title\">\n        {{ filterName(props.type) }}\n      </h2>\n      <el-form-item class=\"login-content-right-input\" prop=\"email\">\n        <div v-if=\"props.type === '5'\" class=\"mb-10\">绑定邮箱</div>\n        <el-input class=\"login-content-right-input-l\" :disabled='props.type === \"5\"' v-model.trim=\"value.email\"\n          placeholder=\"请输入您的邮箱地址\">\n          <template #prefix>\n            <img src=\"@/assets/login/login-user.svg\" alt=\"\" />\n          </template>\n        </el-input>\n      </el-form-item>\n      <Transition :duration=\"550\" name=\"slide-up\">\n        <div>\n          <div v-if=\"props.type === '5'\" class=\"mb-10\">密码</div>\n          <el-form-item v-if=\"props.type !== '2'\" class=\"login-content-right-input\" prop=\"passWord\" :rules=\"[\n            { required: true, message: '请输入密码！', trigger: ['blur', 'change'] },\n            { required: true, min: 8, message: '请输入大于8位数的密码！', trigger: ['blur', 'change'] },\n          ]\">\n            <el-input class=\"login-content-right-input-l\" v-model.trim=\"value.passWord\" type=\"password\"\n              placeholder=\"请输入您的密码\" show-password>\n              <template #prefix>\n                <img src=\"@/assets/login/login-password.svg\" alt=\"\" color=\"red\" />\n              </template>\n            </el-input>\n          </el-form-item>\n        </div>\n      </Transition>\n      <Transition :duration=\"550\" name=\"slide-up\">\n        <div>\n          <div v-if=\"props.type === '5'\" class=\"mb-10\">确认密码</div>\n          <el-form-item v-if=\"props.type === '1' || props.type === '5'\" prop=\"confirmPassword\"\n            class=\"login-content-right-input\" :rules=\"[\n              { required: true, message: '请输入二次密码！', trigger: ['blur', 'change'] },\n              { required: true, validator: checkPassWord, trigger: ['blur', 'change'] },\n            ]\">\n            <el-input clearable class=\"login-content-right-input-l\" v-model.trim=\"value.confirmPassword\" type=\"password\"\n              placeholder=\"确认密码\" show-password>\n              <template #prefix>\n                <img src=\"@/assets/login/login-password.svg\" alt=\"\" color=\"red\" />\n              </template>\n            </el-input>\n          </el-form-item>\n        </div>\n      </Transition>\n\n      <el-form-item class=\"login-content-right-input login-content-right-c\" prop=\"verifyCode\" v-if=\"props.type !== '5'\">\n        <el-input class=\"login-content-right-input-l login-content-right-input-code\" v-model=\"value.verifyCode\"\n          placeholder=\"请输入验证码\">\n          <template #prefix>\n            <img src=\"@/assets/login/login-code.svg\" alt=\"\" />\n          </template>\n        </el-input>\n        <img class=\"login-content-right-c-img\" alt=\"\" :src=\"verifyCode\" @click=\"getCode\" />\n      </el-form-item>\n    </el-form>\n\n    <slot></slot>\n  </div>\n</template>\n<script setup>\nimport { generateVerifyCode } from '@/utils/axios/login/index.js';\nconst props = defineProps({\n  data: {\n    default: {},\n    type: Object\n  },\n  type: String\n});\n\nconst emit = defineEmits(['update:data'])\nconst ruleFormRef = ref();\n\nconst verifyCode = ref('');\n\nconst value = reactive(props.data);\nconst progress = reactive({\n  value: 0,\n  color: \"\"\n})\nwatch(value, (o, n) => {\n  emit('update:data', n);\n})\n\nconst rules = reactive({\n  verifyCode: [\n    { required: true, message: '请输入验证码', trigger: ['blur', 'change'] },\n  ],\n  email: [\n    { required: true, message: '请输入邮箱！', trigger: ['blur', 'change'] },\n    { required: true, pattern: /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/, message: '请输入正确的邮箱！', trigger: ['blur', 'change'] },\n  ]\n})\n\nconst submitForm = async (callback) => {\n  await ruleFormRef.value.validate((valid, fields) => {\n    if (valid) {\n      callback && callback(true)\n    } else {\n      callback && callback(false, fields)\n    }\n  })\n}\n\nconst getCode = async (type) => {\n  let routeValue;\n  switch (type || props.type) {\n    case '0':\n      routeValue = 'login'\n      break;\n    case '1':\n      routeValue = 'register'\n      break;\n    default:\n      routeValue = 'login'\n      break;\n  }\n  const data = await generateVerifyCode(routeValue);\n  if (data.code === 12000) {\n    verifyCode.value = 'data:image/png;base64,' + data.data.imageBase64;\n  }\n}\n\nconst filterName = (type) => {\n  switch (type) {\n    case '0':\n      return '登陆'\n    case '1':\n      return '注册'\n    case '2':\n      return '忘记密码'\n    case '5':\n      return '绑定邮箱'\n    default:\n      return '登陆'\n  }\n}\n\nconst clearRules = () => {\n  ruleFormRef.value.resetFields();\n}\n\nconst checkPassWord = (rule, v, callback) => {\n  if (v !== value.passWord) {\n    callback(new Error(\"两次输入的密码不一致！\"))\n  } else {\n    callback()\n  }\n}\n\nonMounted(() => {\n  getCode();\n})\n\ndefineExpose({\n  clearRules,\n  submitForm,\n  getCode\n})\n</script>\n<style scoped>\n.mb-10 {\n  margin-bottom: 10px;\n}\n\n.mb-20 {\n  margin-bottom: 15px;\n}\n\n.login-content-right-title {\n  font-size: 30px;\n  margin-bottom: 30px;\n  font-weight: 700;\n}\n\n.login-content-right-input {\n  margin-bottom: 24px;\n}\n\n.login-content-right-input-l {\n  height: 40px;\n}\n\n.login-content-right-input-l img {\n  width: 16px;\n}\n\n.login-content-right-input-code {\n  width: 60%;\n}\n\n.login-content-right-c {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  box-sizing: border-box;\n}\n\n.login-content-right-c-img {\n  width: 120px;\n  height: 40px;\n  position: absolute;\n  right: 0;\n}\n\n.slide-up-enter-active,\n.slide-up-leave-active {\n  transition: all 0.25s ease-out;\n}\n\n.slide-up-enter-from {\n  opacity: 0;\n  transform: translateX(30px);\n}\n\n.slide-up-leave-to {\n  opacity: 0;\n  transform: translateX(-30px);\n}\n</style>","<template>\n  <div class=\"login\">\n    <div class=\"login-header\">\n      <Logo></Logo>\n      <GlobalIzation :isLogin=\"true\"></GlobalIzation>\n    </div>\n    <div class=\"login-content\">\n      <img class=\"login-content-img\" src=\"@/assets/login/login-content.png\" alt=\"\" />\n      <div class=\"login-form-main\" v-if=\"type === '3'\">\n        <img class=\"verify-account-bg\"\n          src=\"data:image/png;base64,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\" />\n        <div class=\"login-form-main-t1\">验证您的账户</div>\n        <div class=\"login-form-main-t2\">我们已经发了一封验证邮件给 <a>{{ userInfo.email || getParamsNew('email') }}</a></div>\n        <div class=\"login-form-main-t3\">请检查您的邮箱，并点击链接验证你的账户</div>\n        <a class=\"login-form-main-t4\" @click=\"againResiter\">若未收到？点击再次发送</a>\n        <el-button type=\"primary\" color=\"#294aa5\" class=\"login-form\" @click=\"() => changeType('0')\" round>返回登录</el-button>\n      </div>\n\n      <div class=\"login-form-main\" v-else-if=\"type === '4'\">\n        <div class=\"verify-account-bg\">\n          <SuccessFilled v-if='isActivave'></SuccessFilled>\n          <WarnTriangleFilled v-else></WarnTriangleFilled>\n        </div>\n        <div class=\"login-form-main-t1\" v-if=\"registerType == 0\">注册中</div>\n        <div class=\"login-form-main-t1\" v-if=\"registerType == 1\">注册失败</div>\n        <div class=\"login-form-main-t1\" v-if=\"registerType == 2\">注册成功</div>\n        <div class=\"login-form-main-t2\">\n          您的账号\n          <a>{{ userInfo.email || getParamsNew('email') }}</a>\n          {{ registerType === 0 ? '注册中' : registerType === 1 ? '注册失败' : '注册成功' }}\n        </div>\n\n        <a class=\"login-form-main-t4\"></a>\n        <el-button type=\"primary\" color=\"#294aa5\" class=\"login-form\" @click=\"() => changeType('0')\" round>返回登录</el-button>\n      </div>\n      <LoginForm v-else v-model:data.sync=\"userInfo\" :type=\"type\" ref=\"loginFormRef\">\n        <div class=\"login-content-login\" v-if=\"type === '0'\">\n          <el-button type=\"primary\" color=\"#294aa5\" class=\"login-content-button\" @click=\"login\">登录</el-button>\n          <div class=\"login-content-login-text\">\n            <el-button type=\"primary\" text class=\"login-content-login-text-button\"\n              @click=\"() => changeType('1')\">注册</el-button>\n            <el-button type=\"primary\" text class=\"login-content-login-text-button\"\n              @click=\"() => changeType('2')\">忘记密码?</el-button>\n          </div>\n          <el-divider>或使用以下方式快速登录</el-divider>\n          <div class=\"login-content-other-login-text-button\" @click=\"() => tron_login()\">\n            <img width=\"20\" src=\"@//assets/login/tron-link-logo.svg\" />\n            <span>TronLink</span>\n          </div>\n        </div>\n        <div v-if=\"type === '1'\">\n          <div>\n            <el-button @click=\"register\" type=\"primary\" color=\"#294aa5\" class=\"login-content-button\">注册</el-button>\n          </div>\n          <div>\n            <el-button class=\"login-content-button\" @click=\"() => changeType('0')\">返回</el-button>\n          </div>\n        </div>\n        <div v-if=\"type === '2'\" class=\"login-content-login-text-other\">\n          <div>\n            <el-button type=\"primary\" color=\"#294aa5\" class=\"login-content-button\">发送验证码</el-button>\n          </div>\n          <div>\n            <el-button class=\"login-content-button\" @click=\"() => changeType('0')\">返回</el-button>\n          </div>\n        </div>\n        <div v-if=\"type === '5'\" class=\"login-content-login-text-other\">\n          <div>\n            <el-button type=\"primary\" color=\"#294aa5\" class=\"login-content-button\"\n              @click=\"handleSetemailVerify\">确认绑定</el-button>\n          </div>\n        </div>\n      </LoginForm>\n    </div>\n\n    <el-dialog append-to-body v-model=\"dialogTableVisible\" width=\"450\">\n      <div class=\"custom-modal-centent\">\n        <img class=\"tron-link-logo\" src=\"@/assets/login/tron-link-logo.svg\" width=\"80\" alt=\"图片加载失败\">\n        <div class=\"sign-title\">验证所有权</div>\n        <div class=\"sign-text\">您即将收到签名请求，签名是免费的，不会发送交易</div>\n        <el-button @click=\"tron_register\" type=\"primary\" color=\"#294aa5\" class=\"login-content-button\">发送请求</el-button>\n      </div>\n    </el-dialog>\n\n\n  </div>\n</template>\n<script setup>\nimport Logo from \"@/components/logo.vue\";\nimport GlobalIzation from \"@/components/GlobalIzation.vue\";\nimport LoginForm from \"./components/login-form.vue\";\nimport { getParamsNew, updateQueryStringParameter } from '@/utils/utils/index.js';\nimport { usersRegister, userActivave, userLogin, tronNonce, setemailVerify, sendEmails } from '@/utils/axios/login/index.js';\nimport { ElMessage } from \"element-plus\";\nimport { useRouter } from \"vue-router\";\nconst router = useRouter();\nconst registerType = ref(0);\nconst dialogTableVisible = ref(false);\nconst userInfo = reactive({\n  email: \"\",\n  passWord: \"\",\n  verifyCode: \"\"\n})\n\nlet type = ref(getParamsNew('type') || '0');// 0是登陆 1 是注册 2 是忘记密码 3是激活中 4 是激活成功\nlet loginFormRef = ref();\nconst isActivave = ref(false);\n\nconst againResiter = async () => {\n  const data = await sendEmails({\n    email: getParamsNew('email')\n  })\n\n  ElMessage[data.code === 12000 ? 'success' : 'error'](data.msg)\n}\n\nconst handleSetemailVerify = async () => {\n\n  loginFormRef.value.submitForm(async (e, f) => {\n    if (e) {\n      const data = await setemailVerify({\n        verifyCode: getParamsNew('verifyCode'),\n        email: userInfo.email,\n        passWord: userInfo.passWord\n      })\n      if (data.code === 12000) {\n        ElMessage.success(data.msg);\n        changeType('0')\n      } else {\n        ElMessage.error(data.msg)\n      }\n    }\n  });\n}\n\nconst login = async () => {\n  loginFormRef.value.submitForm(async (e, f) => {\n    if (e) {\n      const data = await userLogin(userInfo);\n      if (data.code === 12000 || data.code === 14009) {\n        window.localStorage.setItem('token', data.data.token);\n        router.push('/console')\n      } else {\n        loginFormRef.value.getCode(type.value || 0);\n        ElMessage.error(data.msg);\n      }\n    }\n  });\n}\n\nconst tron_login = async () => {\n  dialogTableVisible.value = true;\n\n}\n\nconst tron_register = async () => {\n  // const isReads = await window.tronLink.request({\n  //   method: \"TronWeb.trx.getBalance\",\n  // });\n  // console.log(isReads)\n  // return;\n  const isRead = await window.tronLink.request({\n    method: \"tron_requestAccounts\",\n  });\n  if (!isRead) {\n    ElMessage.error('未连接到钱包');\n    return;\n  };\n  const base58Key = window.tronLink.sunWeb.mainchain.defaultAddress.base58;\n  const data = await tronNonce({ walletAddress: base58Key })\n  dialogTableVisible.value = false\n  console.log(data);\n  if (data.code === 12000) {\n    const nonce_certificate = data.data.nonce_certificate\n    tronWeb.trx.signMessage(nonce_certificate).then(async (res) => {\n      console.log(res, 'xxxxx');\n      if (res) {\n        const data = await userLogin({\n          walletAddress: base58Key,\n          nonce_certificate: nonce_certificate\n        });\n        if (data.code === 12000 || data.code === 14009) {\n          window.localStorage.setItem('token', data.data.token);\n          router.push('/console')\n        } else {\n          ElMessage.error(data.msg);\n        }\n      }\n    });\n  } else {\n    ElMessage.error(data.msg)\n  }\n\n}\n\nconst changeType = (t) => {\n  var newurl = updateQueryStringParameter(window.location.href, 'type', t);\n  //向当前url添加参数，没有历史记录\n  window.history.replaceState({\n    path: newurl\n  }, '', newurl);\n  window.history.replaceState({\n    path: updateQueryStringParameter(window.location.href, 'email', userInfo.email),\n  }, '', updateQueryStringParameter(window.location.href, 'email', userInfo.email),);\n  Object.keys(userInfo).map(v => {\n    userInfo[v] = '';\n  })\n  type.value = t;\n  nextTick(() => {\n    clearRules();\n    loginFormRef.value.getCode(t);\n  })\n}\n\nconst clearRules = () => {\n  loginFormRef.value && loginFormRef.value.clearRules();\n}\n\n\nconst register = () => {\n  loginFormRef.value.submitForm(async (e, f) => {\n    if (e) {\n      const data = await usersRegister(userInfo);\n      if (data.code === 12000 || data.code === 14011) {\n        changeType('3');\n      } else {\n        loginFormRef.value.getCode(type.value);\n        ElMessage.error(data.msg);\n      }\n    }\n  });\n}\n\nonMounted(async () => {\n  if (type.value === '4') {\n    registerType.value = 1;\n    const data = await userActivave(getParamsNew('activateCode'))\n\n    if (data.code === 12000) {\n      registerType.value = 2;\n      isActivave.value = true;\n    } else {\n      registerType = 1;\n      isActivave.value = false;\n      ElMessage.error(data.msg);\n    }\n  }\n\n  if (type.value === '5') {\n    userInfo.email = getParamsNew('email')\n  }\n})\n</script>\n<style scoped>\n.sign-title {\n  font-size: 18px;\n  text-align: center;\n  margin: 20px 0;\n}\n\n.sign-text {\n  margin-bottom: 30px;\n}\n\n.tron-link-logo {\n  width: 80px;\n  height: 80px;\n}\n\n.custom-modal-centent {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.verify-account-bg {\n  width: 120px;\n  margin-top: 40px;\n  margin-bottom: 24px;\n  color: #78cd8d;\n}\n\n.ant-result-icon {\n  margin-bottom: 24px;\n  text-align: center;\n}\n\n.login-form-main-t1 {\n  color: #000000d9;\n  font-size: 24px;\n  line-height: 1.8;\n  text-align: center;\n}\n\n.login-form-main-t2 {\n  margin: 5px 0;\n  font-size: 14px;\n}\n\n\n.login-form-main-t3 {\n  font-size: 14px;\n}\n\n.login-form-main-t4 {\n  margin: 20px 0;\n  font-size: 14px;\n}\n\n.login-form-main {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  background-color: #fff;\n  box-sizing: border-box;\n  align-items: center;\n  padding: 30px;\n}\n\n.login-form-main>img {\n  width: 120px;\n  margin-top: 40px;\n  margin-bottom: 24px;\n}\n\n.login-form {\n  width: 200px;\n  border-radius: 30px;\n  background-color: #2a47ab;\n  color: #fff;\n  padding: 25px 70px;\n  display: flex;\n  align-items: center;\n}\n\n.login {\n  width: 100vw;\n  height: 100vh;\n  background-image: url(\"../../assets/login/login-background.png\");\n  background-size: 100px 80px;\n  background-repeat: repeat;\n  position: relative;\n}\n\n.login-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 70px;\n}\n\n.login-content {\n  margin: 0 auto;\n  width: 930px;\n  max-width: 75%;\n  box-sizing: border-box;\n  height: 520px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: row;\n  box-shadow: 1px 1px 10px #c4cade;\n  border-radius: 10px;\n  overflow: hidden;\n}\n\n.login-content-img {\n  width: 50%;\n  height: 100%;\n}\n\n.login-content-right {\n  width: 50%;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  box-sizing: border-box;\n  padding: 30px;\n}\n\n.login-content-button {\n  width: 100%;\n  height: 40px;\n  margin-bottom: 24px;\n}\n\n.login-content-login {\n  width: 100%;\n}\n\n.login-content-login-text {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.login-content-login-text-button {\n  font-size: 14px;\n  font-variant: tabular-nums;\n  line-height: 1.5715;\n  list-style: none;\n  color: #294aa5;\n}\n\n.login-content-other-login-text-button {\n  /* width: 130px;\n  height: 24px; */\n  height: 40px;\n  line-height: 40px;\n  border-radius: 8px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  font-weight: 400;\n  cursor: pointer;\n  color: #294aa5;\n  margin: auto;\n  border: 1px solid #294aa5;\n  border-radius: 6px;\n  padding: 5px 0;\n}\n\n.login-content-other-login-text-button img {\n  margin-right: 0.3em;\n}\n\n.login-content-login-text-other {\n  display: flex;\n  flex-direction: column;\n}\n</style>"],"names":["dividerProps","buildProps","definePropType","__default__","defineComponent","_sfc_main","__props","props","ns","useNamespace","dividerStyle","computed","_ctx","_cache","openBlock","createElementBlock","normalizeClass","unref","normalizeStyle","renderSlot","createCommentVNode","Divider","_export_sfc","ElDivider","withInstall","_imports_0","_imports_1","ruleFormRef","ref","verifyCode","value","reactive","watch","o","n","emit","rules","submitForm","callback","valid","fields","getCode","type","routeValue","data","generateVerifyCode","filterName","clearRules","checkPassWord","rule","v","onMounted","expose","router","useRouter","registerType","dialogTableVisible","userInfo","getParamsNew","loginFormRef","isActivave","againResiter","sendEmails","ElMessage","handleSetemailVerify","e","f","setemailVerify","changeType","login","userLogin","tron_login","tron_register","base58Key","tronNonce","nonce_certificate","res","t","newurl","updateQueryStringParameter","nextTick","register","usersRegister","userActivave"],"mappings":"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"}