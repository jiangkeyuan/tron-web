{"version":3,"file":"index.b0ba50a3.js","sources":["../../node_modules/element-plus/es/hooks/use-draggable/index.mjs","../../node_modules/element-plus/es/hooks/use-lockscreen/index.mjs","../../node_modules/element-plus/es/hooks/use-same-target/index.mjs","../../node_modules/element-plus/es/components/overlay/src/overlay.mjs","../../node_modules/element-plus/es/components/overlay/index.mjs"],"sourcesContent":["import { onMounted, watchEffect, onBeforeUnmount } from 'vue';\nimport '../../utils/index.mjs';\nimport { addUnit } from '../../utils/dom/style.mjs';\n\nconst useDraggable = (targetRef, dragRef, draggable) => {\n  let transform = {\n    offsetX: 0,\n    offsetY: 0\n  };\n  const onMousedown = (e) => {\n    const downX = e.clientX;\n    const downY = e.clientY;\n    const { offsetX, offsetY } = transform;\n    const targetRect = targetRef.value.getBoundingClientRect();\n    const targetLeft = targetRect.left;\n    const targetTop = targetRect.top;\n    const targetWidth = targetRect.width;\n    const targetHeight = targetRect.height;\n    const clientWidth = document.documentElement.clientWidth;\n    const clientHeight = document.documentElement.clientHeight;\n    const minLeft = -targetLeft + offsetX;\n    const minTop = -targetTop + offsetY;\n    const maxLeft = clientWidth - targetLeft - targetWidth + offsetX;\n    const maxTop = clientHeight - targetTop - targetHeight + offsetY;\n    const onMousemove = (e2) => {\n      const moveX = Math.min(Math.max(offsetX + e2.clientX - downX, minLeft), maxLeft);\n      const moveY = Math.min(Math.max(offsetY + e2.clientY - downY, minTop), maxTop);\n      transform = {\n        offsetX: moveX,\n        offsetY: moveY\n      };\n      targetRef.value.style.transform = `translate(${addUnit(moveX)}, ${addUnit(moveY)})`;\n    };\n    const onMouseup = () => {\n      document.removeEventListener(\"mousemove\", onMousemove);\n      document.removeEventListener(\"mouseup\", onMouseup);\n    };\n    document.addEventListener(\"mousemove\", onMousemove);\n    document.addEventListener(\"mouseup\", onMouseup);\n  };\n  const onDraggable = () => {\n    if (dragRef.value && targetRef.value) {\n      dragRef.value.addEventListener(\"mousedown\", onMousedown);\n    }\n  };\n  const offDraggable = () => {\n    if (dragRef.value && targetRef.value) {\n      dragRef.value.removeEventListener(\"mousedown\", onMousedown);\n    }\n  };\n  onMounted(() => {\n    watchEffect(() => {\n      if (draggable.value) {\n        onDraggable();\n      } else {\n        offDraggable();\n      }\n    });\n  });\n  onBeforeUnmount(() => {\n    offDraggable();\n  });\n};\n\nexport { useDraggable };\n//# sourceMappingURL=index.mjs.map\n","import { isRef, watch, onScopeDispose } from 'vue';\nimport { computed } from '@vue/reactivity';\nimport { isClient } from '@vueuse/core';\nimport '../../utils/index.mjs';\nimport { useNamespace } from '../use-namespace/index.mjs';\nimport { throwError } from '../../utils/error.mjs';\nimport { hasClass, removeClass, getStyle, addClass } from '../../utils/dom/style.mjs';\nimport { getScrollBarWidth } from '../../utils/dom/scroll.mjs';\n\nconst useLockscreen = (trigger) => {\n  if (!isRef(trigger)) {\n    throwError(\"[useLockscreen]\", \"You need to pass a ref param to this function\");\n  }\n  const ns = useNamespace(\"popup\");\n  const hiddenCls = computed(() => ns.bm(\"parent\", \"hidden\"));\n  if (!isClient || hasClass(document.body, hiddenCls.value)) {\n    return;\n  }\n  let scrollBarWidth = 0;\n  let withoutHiddenClass = false;\n  let bodyWidth = \"0\";\n  const cleanup = () => {\n    setTimeout(() => {\n      removeClass(document == null ? void 0 : document.body, hiddenCls.value);\n      if (withoutHiddenClass && document) {\n        document.body.style.width = bodyWidth;\n      }\n    }, 200);\n  };\n  watch(trigger, (val) => {\n    if (!val) {\n      cleanup();\n      return;\n    }\n    withoutHiddenClass = !hasClass(document.body, hiddenCls.value);\n    if (withoutHiddenClass) {\n      bodyWidth = document.body.style.width;\n    }\n    scrollBarWidth = getScrollBarWidth(ns.namespace.value);\n    const bodyHasOverflow = document.documentElement.clientHeight < document.body.scrollHeight;\n    const bodyOverflowY = getStyle(document.body, \"overflowY\");\n    if (scrollBarWidth > 0 && (bodyHasOverflow || bodyOverflowY === \"scroll\") && withoutHiddenClass) {\n      document.body.style.width = `calc(100% - ${scrollBarWidth}px)`;\n    }\n    addClass(document.body, hiddenCls.value);\n  });\n  onScopeDispose(() => cleanup());\n};\n\nexport { useLockscreen };\n//# sourceMappingURL=index.mjs.map\n","import { NOOP } from '@vue/shared';\n\nconst useSameTarget = (handleClick) => {\n  if (!handleClick) {\n    return { onClick: NOOP, onMousedown: NOOP, onMouseup: NOOP };\n  }\n  let mousedownTarget = false;\n  let mouseupTarget = false;\n  const onClick = (e) => {\n    if (mousedownTarget && mouseupTarget) {\n      handleClick(e);\n    }\n    mousedownTarget = mouseupTarget = false;\n  };\n  const onMousedown = (e) => {\n    mousedownTarget = e.target === e.currentTarget;\n  };\n  const onMouseup = (e) => {\n    mouseupTarget = e.target === e.currentTarget;\n  };\n  return { onClick, onMousedown, onMouseup };\n};\n\nexport { useSameTarget };\n//# sourceMappingURL=index.mjs.map\n","import { defineComponent, createVNode, renderSlot, h } from 'vue';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useSameTarget } from '../../../hooks/use-same-target/index.mjs';\nimport { PatchFlags } from '../../../utils/vue/vnode.mjs';\n\nconst overlayProps = buildProps({\n  mask: {\n    type: Boolean,\n    default: true\n  },\n  customMaskEvent: {\n    type: Boolean,\n    default: false\n  },\n  overlayClass: {\n    type: definePropType([\n      String,\n      Array,\n      Object\n    ])\n  },\n  zIndex: {\n    type: definePropType([String, Number])\n  }\n});\nconst overlayEmits = {\n  click: (evt) => evt instanceof MouseEvent\n};\nvar Overlay = defineComponent({\n  name: \"ElOverlay\",\n  props: overlayProps,\n  emits: overlayEmits,\n  setup(props, { slots, emit }) {\n    const ns = useNamespace(\"overlay\");\n    const onMaskClick = (e) => {\n      emit(\"click\", e);\n    };\n    const { onClick, onMousedown, onMouseup } = useSameTarget(props.customMaskEvent ? void 0 : onMaskClick);\n    return () => {\n      return props.mask ? createVNode(\"div\", {\n        class: [ns.b(), props.overlayClass],\n        style: {\n          zIndex: props.zIndex\n        },\n        onClick,\n        onMousedown,\n        onMouseup\n      }, [renderSlot(slots, \"default\")], PatchFlags.STYLE | PatchFlags.CLASS | PatchFlags.PROPS, [\"onClick\", \"onMouseup\", \"onMousedown\"]) : h(\"div\", {\n        class: props.overlayClass,\n        style: {\n          zIndex: props.zIndex,\n          position: \"fixed\",\n          top: \"0px\",\n          right: \"0px\",\n          bottom: \"0px\",\n          left: \"0px\"\n        }\n      }, [renderSlot(slots, \"default\")]);\n    };\n  }\n});\n\nexport { Overlay as default, overlayEmits, overlayProps };\n//# sourceMappingURL=overlay.mjs.map\n","import Overlay from './src/overlay.mjs';\nexport { overlayEmits, overlayProps } from './src/overlay.mjs';\n\nconst ElOverlay = Overlay;\n\nexport { ElOverlay, ElOverlay as default };\n//# sourceMappingURL=index.mjs.map\n"],"names":["useDraggable","targetRef","dragRef","draggable","transform","onMousedown","e","downX","downY","offsetX","offsetY","targetRect","targetLeft","targetTop","targetWidth","targetHeight","clientWidth","clientHeight","minLeft","minTop","maxLeft","maxTop","onMousemove","e2","moveX","moveY","addUnit","onMouseup","onDraggable","offDraggable","onMounted","watchEffect","onBeforeUnmount","useLockscreen","trigger","isRef","throwError","ns","useNamespace","hiddenCls","computed","isClient","hasClass","scrollBarWidth","withoutHiddenClass","bodyWidth","cleanup","removeClass","watch","val","getScrollBarWidth","bodyHasOverflow","bodyOverflowY","getStyle","addClass","onScopeDispose","useSameTarget","handleClick","NOOP","mousedownTarget","mouseupTarget","overlayProps","buildProps","definePropType","overlayEmits","evt","Overlay","defineComponent","props","slots","emit","onMaskClick","onClick","createVNode","renderSlot","PatchFlags","h","ElOverlay"],"mappings":"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"}