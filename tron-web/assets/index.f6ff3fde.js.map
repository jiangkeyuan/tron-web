{"version":3,"file":"index.f6ff3fde.js","sources":["../../node_modules/element-plus/es/components/card/src/card.mjs","../../node_modules/element-plus/es/components/card/src/card2.mjs","../../node_modules/element-plus/es/components/card/index.mjs","../../src/utils/axios/manager/index.js","../../src/page/manager/index.vue"],"sourcesContent":["import '../../../utils/index.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\n\nconst cardProps = buildProps({\n  header: {\n    type: String,\n    default: \"\"\n  },\n  bodyStyle: {\n    type: definePropType([String, Object, Array]),\n    default: \"\"\n  },\n  shadow: {\n    type: String,\n    values: [\"always\", \"hover\", \"never\"],\n    default: \"always\"\n  }\n});\n\nexport { cardProps };\n//# sourceMappingURL=card.mjs.map\n","import { defineComponent, openBlock, createElementBlock, normalizeClass, unref, renderSlot, createTextVNode, toDisplayString, createCommentVNode, createElementVNode, normalizeStyle } from 'vue';\nimport '../../../hooks/index.mjs';\nimport { cardProps } from './card.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElCard\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: cardProps,\n  setup(__props) {\n    const ns = useNamespace(\"card\");\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([unref(ns).b(), unref(ns).is(`${_ctx.shadow}-shadow`)])\n      }, [\n        _ctx.$slots.header || _ctx.header ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: normalizeClass(unref(ns).e(\"header\"))\n        }, [\n          renderSlot(_ctx.$slots, \"header\", {}, () => [\n            createTextVNode(toDisplayString(_ctx.header), 1)\n          ])\n        ], 2)) : createCommentVNode(\"v-if\", true),\n        createElementVNode(\"div\", {\n          class: normalizeClass(unref(ns).e(\"body\")),\n          style: normalizeStyle(_ctx.bodyStyle)\n        }, [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 6)\n      ], 2);\n    };\n  }\n});\nvar Card = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/card/src/card.vue\"]]);\n\nexport { Card as default };\n//# sourceMappingURL=card2.mjs.map\n","import '../../utils/index.mjs';\nimport Card from './src/card2.mjs';\nexport { cardProps } from './src/card.mjs';\nimport { withInstall } from '../../utils/vue/install.mjs';\n\nconst ElCard = withInstall(Card);\n\nexport { ElCard, ElCard as default };\n//# sourceMappingURL=index.mjs.map\n","import service from \"../request\";\nexport const getManagerList = (params) => {\n  return service.post(\"/admin/setting/find\", params);\n};\n\nexport const addManagerList = (params) => {\n  return service.post(\"/admin/setting\", params);\n};\n\nexport const changeManagerList = (params) => {\n  return service.patch(\"/admin/setting\", params);\n};\n\nexport const deleteManagerList = (params) => {\n  return service.post(\"/admin/setting\", params);\n};\n","<template>\n  <el-card class=\"box-card\">\n    <template #header>\n      <div class=\"card-header\">\n        <span>API KEYS</span>\n        <el-button type=\"primary\" text @click=\"() => addManager()\">\n          <el-icon>\n            <Plus />\n          </el-icon>\n        </el-button>\n      </div>\n    </template>\n    <el-form :model=\"forms\" inline class=\"sale-record sale-record-search\">\n      <el-form-item label=\"值\">\n        <el-input v-model=\"forms.systemKey\" />\n      </el-form-item>\n      <el-form-item>\n        <el-button @click=\"reset\">重置</el-button>\n        <el-button type=\"primary\" color=\"#294aa5\" @click=\"seach\">查询</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table :data=\"tableData\" style=\"width: 100%\" @sort-change=\"sortChange\">\n      <el-table-column prop=\"systemKey\" label=\"名称\" width=\"300\" />\n      <el-table-column prop=\"systemVal\" label=\"值\" />\n      <el-table-column prop=\"remarks\" label=\"备注\" width=\"300\" />\n      <el-table-column prop=\"lastUpdateDate\" sortable=\"custom\" label=\"最后修改时间\" width=\"300\"\n        :formatter=\"(row) => filterDate(row.lastUpdateDate)\" />\n      <el-table-column label=\"\" width=\"130\">\n        <template #default='scope'>\n          <el-button type=\"primary\" link @click=\"() => change(scope)\">\n            修改\n          </el-button>\n          <!-- <el-button type=\"primary\" link @click=\"() => deleteList(scope)\">\n            删除\n          </el-button> -->\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"sale-record-table-pagination\">\n      <el-pagination @current-change=\"currentChange\" layout=\"prev, pager, next\" v-model:current-page=\"form.pageIndex\"\n        :total=\"forms.totalCount\" />\n    </div>\n  </el-card>\n\n  <el-dialog v-model=\"dialogFormVisible\" title=\"系统配置\" destroy-on-close>\n    <el-form :model=\"form\" label-position=\"right\" label-width=\"60\" ref=\"ruleFormRef\" :rules=\"rules\">\n      <el-form-item label=\"名称:\" prop=\"systemKey\">\n        <el-input v-model=\"form.systemKey\" autocomplete=\"off\" :disabled='form.type !== \"add\"' placeholder=\"请输入名称\" />\n      </el-form-item>\n      <el-form-item label=\"值:\" prop=\"systemVal\">\n        <el-input v-model=\"form.systemVal\" autocomplete=\"off\" placeholder=\"请输入值\" />\n      </el-form-item>\n      <el-form-item label=\"备注:\" prop=\"remarks\">\n        <el-input v-model=\"form.remarks\" autocomplete=\"off\" placeholder=\"请输入备注\" />\n      </el-form-item>\n    </el-form>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"() => addManagerApi(ruleFormRef)\">\n          确认\n        </el-button>\n      </span>\n    </template>\n  </el-dialog>\n</template>\n<script setup>\nimport { filterDate } from '@/utils/utils/date.js';\nimport { getManagerList, addManagerList, changeManagerList, deleteManagerList } from '@/utils/axios/manager/index.js';\nimport { ElMessage } from 'element-plus';\nconst tableData = ref([]);\nconst form = reactive({});\nconst ruleFormRef = ref()\nconst forms = reactive({\n  pageIndex: 1,\n  pageSize: 10,\n  totalCount: 0,\n  order: ''\n})\nconst dialogFormVisible = ref(false);\nconst rules = reactive({\n  systemKey: [\n    { required: true, message: '请输入系统名称', trigger: 'change' },\n  ],\n  systemVal: [\n    { required: true, message: '请输入系统值', trigger: 'change' },\n  ],\n  remarks: [\n    { required: true, message: '请输入备注', trigger: 'change' },\n  ],\n})\n\nconst sortChange = (e) => {\n  forms.order = e.order === \"ascending\" ? 'ASC' : \"DESC\"\n  seach()\n}\n\nconst currentChange = () => {\n  seach();\n}\n\nconst reset = () => {\n  forms.systemVal = '';\n  forms.pageIndex = 1;\n  seach();\n}\n\nconst change = async (scope) => {\n  Object.keys(form).map(v => {\n    form[v] = '';\n  })\n  dialogFormVisible.value = true;\n  Object.assign(form, scope.row, { type: 'change' });\n}\n\nconst deleteList = async (scope) => {\n  const data = await deleteManagerList(scope.row);\n  if (data.code === 12000) {\n    ElMessage.success('删除成功')\n    seach();\n  } else {\n\n  }\n}\n\nconst addManagerApi = async (formEl) => {\n  if (!formEl) return\n  await formEl.validate(async (valid, fields) => {\n    if (valid) {\n      if (form.type === 'change') {\n        const data = await changeManagerList({ ...form, });\n        if (data.code === 12000) {\n          dialogFormVisible.value = false;\n          ElMessage.success('修改成功')\n          seach();\n        } else {\n          ElMessage.error(data.msg)\n        }\n      } else {\n        const data = await addManagerList(form);\n        if (data.code === 12000) {\n          dialogFormVisible.value = false;\n          ElMessage.success('添加成功')\n          seach();\n        } else {\n          ElMessage.error(data.msg)\n        }\n      }\n    }\n  })\n}\n\nconst addManager = () => {\n  form.type = 'add'\n  dialogFormVisible.value = true;\n}\nconst seach = async () => {\n  const data = await getManagerList({ ...forms, sort: 'lastUpdateDate' });\n  if (data.code === 12000) {\n    tableData.value = data.data.data;\n    forms.totalCount = data.data.totalCount\n  } else {\n    ElMessage.error(data.msg)\n  }\n\n}\nonMounted(() => {\n  seach();\n})\n</script>\n<style scoped>\n.card-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.sale-record-table-pagination {\n  margin-top: 10px;\n  width: 100%;\n}\n\n.sale-record-search {\n  margin-bottom: 30px;\n}\n</style>"],"names":["cardProps","buildProps","definePropType","__default__","defineComponent","_sfc_main","__props","ns","useNamespace","_ctx","_cache","openBlock","createElementBlock","normalizeClass","unref","renderSlot","createTextVNode","toDisplayString","createCommentVNode","createElementVNode","normalizeStyle","Card","_export_sfc","ElCard","withInstall","getManagerList","params","service","addManagerList","changeManagerList","tableData","ref","form","reactive","ruleFormRef","forms","dialogFormVisible","rules","sortChange","e","seach","currentChange","reset","change","scope","v","addManagerApi","formEl","valid","fields","data","ElMessage","addManager","onMounted"],"mappings":"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"}